# Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

```	Ответ:
	Linux > ip -c -br link
	> vagrant(0):~$ ip -c -br link
		lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP>
		eth0             UP             08:00:27:73:60:cf <BROADCAST,MULTICAST,UP,LOWER_UP>
	Windows > cmd ipconfig /all
	Настройка протокола IP для Windows
	Адаптер Ethernet Ethernet:
	   Состояние среды. . . . . . . . : Среда передачи недоступна.
	   DNS-суффикс подключения . . . . . :
	Адаптер Ethernet VirtualBox Host-Only Network:
	   DNS-суффикс подключения . . . . . :
	   Локальный IPv6-адрес канала . . . : fe80::1129:c219:b6b8:e5b7%6
	   IPv4-адрес. . . . . . . . . . . . : 192.168.56.1
	   Маска подсети . . . . . . . . . . : 255.255.255.0
	   Основной шлюз. . . . . . . . . :
	Адаптер беспроводной локальной сети Подключение по локальной сети* 1:
	   Состояние среды. . . . . . . . : Среда передачи недоступна.
	   DNS-суффикс подключения . . . . . :
	Адаптер беспроводной локальной сети Подключение по локальной сети* 2:
	   Состояние среды. . . . . . . . : Среда передачи недоступна.
	   DNS-суффикс подключения . . . . . :
	Адаптер беспроводной локальной сети Беспроводная сеть:
	   DNS-суффикс подключения . . . . . :
	   IPv4-адрес. . . . . . . . . . . . : 192.168.31.24
	   Маска подсети . . . . . . . . . . : 255.255.255.0
	   Основной шлюз. . . . . . . . . : 192.168.31.1
	Адаптер Ethernet Сетевое подключение Bluetooth:
	   Состояние среды. . . . . . . . : Среда передачи недоступна.
	   DNS-суффикс подключения . . . . . :
	Туннельный адаптер Teredo Tunneling Pseudo-Interface:
	   DNS-суффикс подключения . . . . . :
	   IPv6-адрес. . . . . . . . . . . . : 2001:0:1428:8f18:2ccd:cd1e:268d:1fed
	   Локальный IPv6-адрес канала . . . : fe80::2ccd:cd1e:268d:1fed%14
	   Основной шлюз. . . . . . . . . : ::

```
	
2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

```
	Ответ:
	lldpd
	> lldpctl
	-------------------------------------------------------------------------------
	LLDP neighbors:
	-------------------------------------------------------------------------------
	
```	
	
3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
```
	Ответ:
	VLAN
	Настройки  VLANов интерфейсов в Ubuntu точно так же, как и для сетевых интерфейсов, указываются в файле 
	/etc/network/interfaces.
	auto vlan1400
	iface vlan1400 inet static
        address 192.168.1.1
        netmask 255.255.255.0
        vlan_raw_device eth0
	ручная настройка VLAN выполняется с помощью программы vconfig
	vconfig add eth0 2
	ifconfig eth0.2 10.х.х.х netmask 255.255.255.0 up
	
```	
4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
```
	Ответ: 	bonding
		Балансировка нагрузки, режимы:
		0 или balance-rr (случайный выбор).  
		1 или active-backup (актив-резерв)
		2 или balance-xor (Баласировка XOR)
		3 или broadcast (передача на все интерфейсы)
		4 или 802.3ad (динамическая агрегация)
		5 или balance-tlb
		6 или balance-alb
		подробнее https://www.kernel.org/doc/Documentation/networking/bonding.txt
		
	Пример настройка для 1 режима в файле/etc/network/interfaces:
	auto bond0
	iface bond0 inet static
		address 10.31.1.5
		netmask 255.255.255.0
		network 10.31.1.0
		gateway 10.31.1.254
		bond-slaves eth0 eth1
		bond-mode active-backup
		bond-miimon 100
		bond-downdelay 200
		bond-updelay 200

		
```	
5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
```
	Ответ: в сети/29 6 хостов, 32 сети получится из сети /24,
	> ipcalc 10.10.10.0 -b -s 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6
		Address:   10.10.10.0
		Netmask:   255.255.255.0 = 24
		Wildcard:  0.0.0.255
		=>
		Network:   10.10.10.0/24
		HostMin:   10.10.10.1
		HostMax:   10.10.10.254
		Broadcast: 10.10.10.255
		Hosts/Net: 254                   Class A, Private Internet

		1. Requested size: 6 hosts
		Netmask:   255.255.255.248 = 29
		Network:   10.10.10.0/29
		HostMin:   10.10.10.1
		HostMax:   10.10.10.6
		Broadcast: 10.10.10.7
		Hosts/Net: 6                     Class A, Private Internet

		2. Requested size: 6 hosts
		Netmask:   255.255.255.248 = 29
		Network:   10.10.10.8/29
		HostMin:   10.10.10.9
		HostMax:   10.10.10.14
		Broadcast: 10.10.10.15
		Hosts/Net: 6                     Class A, Private Internet


--- сократим вывод ----

		30. Requested size: 6 hosts
		Netmask:   255.255.255.248 = 29
		Network:   10.10.10.232/29
		HostMin:   10.10.10.233
		HostMax:   10.10.10.238
		Broadcast: 10.10.10.239
		Hosts/Net: 6                     Class A, Private Internet

		31. Requested size: 6 hosts
		Netmask:   255.255.255.248 = 29
		Network:   10.10.10.240/29
		HostMin:   10.10.10.241
		HostMax:   10.10.10.246
		Broadcast: 10.10.10.247
		Hosts/Net: 6                     Class A, Private Internet

		32. Requested size: 6 hosts
		Netmask:   255.255.255.248 = 29
		Network:   10.10.10.248/29
		HostMin:   10.10.10.249
		HostMax:   10.10.10.254
		Broadcast: 10.10.10.255
		Hosts/Net: 6                     Class A, Private Internet

		Needed size:  256 addresses.
		Used network: 10.10.10.0/24
		Unused:
	
```	
6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. 
Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
```
	Ответ: можно мспользовать сеть 100.64.0.0 — 100.127.255.255 (маска подсети: 255.192.0.0 или /10) Carrier-Grade NAT
	
```	
7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
```
	Ответ:
	проверка как в Linux так и в Windows > arp -a
	_gateway (10.0.2.2) at 52:54:00:12:35:02 [ether] on eth0
	? (10.0.2.3) at 52:54:00:12:35:03 [ether] on eth0
	Очистка в linux > sudo ip neigh flush all
	Очистка в Windows > netsh interface ip delete arpcache
	удаление как в Linux так и в Windows только одного ip
	> arp -d 192.168.100.25
	
```	
