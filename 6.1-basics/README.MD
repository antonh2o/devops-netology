# Домашнее задание к занятию "6.1. Типы и структура СУБД"

### Задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.
Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

- Электронные чеки в json виде
```
Ответ: Документо-ориентированные БД, как наиболее подходящие для данной задачи.
```

- Склады и автомобильные дороги для логистической компании
```
Ответ: или Сетевые или Графовые БД, как раз для хранения отношений между сущностями, как наиболее подходящие для данной задачи.
```

- Генеалогические деревья
```
Ответ: или Иерархические БД, как для хранения древовидной структуры или Сетевые БД так, как у детей не один родитель, для производительности подходит наилучшее всего.
```

- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
```
Ответ: БД Ключ-значение, из-за преимуществ быстродействия, возможность выставления TTL
```

- Отношения клиент-покупка для интернет-магазина
```
Ответ: или Реляционные или Графовые БД, взаимосвязь "многие - ко - многим"

```

### Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

* Данные записываются на все узлы с задержкой до часа (асинхронная запись)
```
Ответ:CA EL/PC
```

* При сетевых сбоях, система может разделиться на 2 раздельных кластера
```
Ответ: AP PA/EL
```

* Система может не прислать корректный ответ или сбросить соединение
```
Ответ: CP PA-EC
```

### Задача 3
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
```
Ответ: Не могут, так как требования у BASE и ACID противоречат друг другу, в согласованности.
ACID требует немедленной согласованности, для обеспечения надежности и предсказуемости ее работы.
BASE противопоставляющий себя ACID, отдает приоритет высокой производительности/доступности в ущерб согласованности данных.
```

### Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:
фиксация некоторых значений с временем жизни
реакция на истечение таймаута
Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?
```
Ответ: это система “ключ-значение”, пример реализации - Redis.
Основные характеристики системы:
● Может использоваться как БД, так и как кэш-система или брокер
сообщений.
● Все данные хранятся в оперативной памяти.
● Данным можно присваивать Time-To-Live.
● Имеется встроенная система Pub/Sub.
● Поддерживает Master-Slave репликацию.

Минусы:
● Cложности при работе с большими объемами данных, объем данных не должен превышать объем свободного ОЗУ сервера, иначе работа замедлится.
● Решения для кластеризации для Redis должны быть реализованы собственными силами и требуют значительных усилий. Есть риск не сохранения данных, сложности с настройкой кластера и шардингом.
● Нет языка запросов (только команды)
● Проблемы с фрагментацией памяти. Запись и удаление огромных объемов данных может привести к снижению производительности.

```
